{
  "hash": "28a86307db53f38dafd4b9aba9b8ce56",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Pipeline Counts\"\ndescription: Get counts and make plots/tables of sequences in WDRS and elsewhere\nauthor: Frank Aragona\ndate: 2-27-2024\ndate-modified: today\nnotebook-links: true\nhtml-table-processing: none\n---\n\n\n\n\n\n\n# Libraries\n\nAnd read in custom functions\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\noptions(box.path = getwd())\ngetwd()\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"C:/Users/FAA3303/Projects/sequencing1.0_sanitized/docs/notebooks\"\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\nbox::use(\n  DBI[dbConnect,dbGetQuery],\n  odbc[odbc],\n  lubridate[...],\n  pins[...],\n  tibble[...],\n  dplyr[...],\n  magrittr[`%>%`],\n  purrr[...],\n  data.table[...],\n  readxl[read_xlsx],\n  vroom[vroom],\n  readr[...],\n  rio[import],\n  stringr[...],\n  gt[...],\n  gtExtras[...],\n  stats[na.omit],\n  tidyr[...],\n  scripts/functions[...],\n  scripts/read_for_review[...],\n  scripts/read_fuzzy[...],\n  scripts/read_keep_na[...]\n)\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nRegistered S3 methods overwritten by 'readr':\n  method                    from \n  as.data.frame.spec_tbl_df vroom\n  as_tibble.spec_tbl_df     vroom\n  format.col_spec           vroom\n  print.col_spec            vroom\n  print.collector           vroom\n  print.date_names          vroom\n  print.locale              vroom\n  str.col_spec              vroom\n```\n\n\n:::\n:::\n\n\n\n\n\n\n\n\n# Get Data\n\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n# ------ Read in all tables and get counts ------ #\n\n\n#' @export\n#' match in wdrs or keep_na\n#' \n#' @description\n#' Find a match in WDRS or Keep_NA and assign it a new column. Used to get counts and filter\n#' \n#' @param df a dataframe\nmatch_in_wdrs_keep_na <- function(df){\n  df %>%\n    mutate(in_wdrs = case_when(\n      SEQUENCE_CLINICAL_ACCESSION %in% \n        na.omit(wdrs_seq$SEQUENCE_CLINICAL_ACCESSION_NUMBER) |\n        \n        SEQUENCE_ACCESSION %in% \n        na.omit(wdrs_seq$SEQUENCE_GISAID_STRAIN) ~ 1,\n      TRUE ~ 0\n    )) %>%\n    mutate(in_keep_na = case_when(\n      SEQUENCE_CLINICAL_ACCESSION %in% \n        na.omit(keep_na2$SEQUENCE_CLINICAL_ACCESSION) |\n        \n        SEQUENCE_ACCESSION %in% \n        na.omit(keep_na2$SEQUENCE_ACCESSION) ~ 1,\n      TRUE ~ 0\n    ))\n}\n\n# Read in keep_na - this reads in the saved keep_na pin\nkeep_na <- read_csv(file.path(here::here(),\"docs/notebooks/data/keep_na.csv\"))\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nNew names:\n• `` -> `...1`\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nWarning: One or more parsing issues, call `problems()` on your data frame for details,\ne.g.:\n  dat <- vroom(...)\n  problems(dat)\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nRows: 19855 Columns: 137\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr  (22): file_name, SEQUENCE_SPECIMEN, SEQUENCE_REASON, SEQUENCE_LAB, SEQU...\ndbl   (3): ...1, CASE_ID, GISAID_ID_YEAR\nlgl (112): SEQUENCE_SGTF, SEQUENCE_DATE, Virus name, Accession ID, Collectio...\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n  # keep_na_extract() %>%\n  # as_tibble() %>%\n  # tweak_gisaid_id(.$SEQUENCE_ACCESSION) %>%\n  # mutate(across(everything(), as.character))\n\n# Read in keep_na - this runs the keep_na read function to read in newest data\n# this will take ~ 10 min to run. Only necessary if the pin is out of date\n# keep_na <- keep_na_extract() %>%\n#   as_tibble() %>%\n#   tweak_gisaid_id(.$SEQUENCE_ACCESSION)\n\n# connect\nconnection <- DBI::dbConnect(odbc::odbc(), \n                             Driver = creds$default$conn_list_wdrs$Driver, \n                             Server = creds$default$conn_list_wdrs$Server, \n                             Database = creds$default$conn_list_wdrs$Database, \n                             Trusted_connection = creds$default$conn_list_wdrs$Trusted_connection, \n                             ApplicationIntent = creds$default$conn_list_wdrs$ApplicationIntent)\n\n\nwdrs_seq <- DBI::dbGetQuery(\n  connection,\n  \"\n  SELECT *\n  FROM DD_GCD_COVID19_SEQUENCING\n  WHERE SEQUENCE_SPECIMEN = 'YES'\n  AND CASE_STATUS IN (0, 3)\n  ORDER BY SEQUENCE_ROSTER_PREPARE_DATE DESC;\n  \"\n)\n\n# Remove any rec\nwdrs_seq <- wdrs_seq %>%\n  mutate(in_keep_na = case_when(\n    SEQUENCE_CLINICAL_ACCESSION_NUMBER %in% \n      na.omit(keep_na$SEQUENCE_CLINICAL_ACCESSION) |\n      \n      SEQUENCE_GISAID_STRAIN %in% \n      na.omit(keep_na$SEQUENCE_ACCESSION) ~ 1,\n    TRUE ~ 0\n  )) %>%\n  as_tibble() %>%\n  mutate(across(everything(), as.character)) %>%\n  filter(SEQUENCE_ROSTER_PREPARE_DATE < '2023-09-11' | is.na(SEQUENCE_ROSTER_PREPARE_DATE))\n\n\nwdrs_count <- wdrs_seq %>%\n  # filter(in_keep_na == 0) %>%\n  nrow()\n\n# This keep_na count needs to run below WDRS chunk because it needs to remove\n# any records that are in WDRS\nkeep_na2 <- keep_na  %>%\n  mutate(in_wdrs =if_else(\n    SEQUENCE_CLINICAL_ACCESSION %in% na.omit(\n      wdrs_seq$SEQUENCE_CLINICAL_ACCESSION_NUMBER\n      ),\n    1,\n    0\n    )\n    ) %>% \n  \n  mutate(in_wdrs_SA = if_else(\n    SEQUENCE_ACCESSION %in% na.omit(\n      wdrs_seq$SEQUENCE_GISAID_STRAIN\n      ),\n    1,\n    0\n    )\n    ) %>%\n  dplyr::filter(in_wdrs == 0 & in_wdrs_SA == 0)\n\nkeep_na_count <- nrow(keep_na2)\n\n# Read in for_review\nfor_review_df <- for_review_extract() %>%\n  # Find a match in WDRS or keep_na\n  match_in_wdrs_keep_na() %>%\n  # Split SEQUENCE_ACCESSION for partial matching\n  tweak_gisaid_id(.$SEQUENCE_ACCESSION)\n\nfor_review_count <- for_review_df %>%\n  filter(in_wdrs == 0 & in_keep_na == 0) %>%\n  nrow()\n\n# Read in fuzzy\nfuzzy_df <- fuzzy_extract() %>%\n  # Find a match in WDRS or keep_na\n  match_in_wdrs_keep_na() %>%\n  # Split SEQUENCE_ACCESSION for partial matching\n  tweak_gisaid_id(.$SEQUENCE_ACCESSION)\n\nfuzzy_count <- fuzzy_df %>%\n  filter(in_wdrs == 0 & in_keep_na == 0) %>%\n  nrow()\n```\n:::\n\n\n\n\n\n\n# Count Summary\n\n\n\n\n\n\n::: {#tbl-counts .cell tbl-cap='Count of sequences matching to WDRS cases'}\n\n```{.r .cell-code .hidden}\n#| label: tbl-counts\n#| tbl-cap: \"Count of sequences matching to WDRS cases\"\n# ------ Create Final Table of Counts ------ #\n\n# Get the Counts\npipeline_counts <- tribble(\n  ~Location, ~Count,\n  \"For Review\", for_review_count,\n  \"Fuzzy Review\", fuzzy_count,\n  \"Keep NA\", keep_na_count,\n  \"WDRS\", wdrs_count) %>%\n  # Get the Percents\n  mutate(freq = scales::label_percent()(Count / sum(Count))) %>%\n  # Get the Totals\n  janitor::adorn_totals()\n\n# Take the counts and put them in a table.\n\n# use the gt table for html stuff\n  # Convert to a GT table and style it\n(gt_counts <- pipeline_counts %>%\n  gt() %>%\n  cols_merge_n_pct(\n    col_n = Count,\n    col_pct = freq\n  ) %>%\n  fmt_number(\n    columns = Count,\n    decimals = 0,\n    use_seps = T\n  ) %>%\n  # Highlight the WDRS row\n  gt_highlight_rows(\n     rows = Location == \"WDRS\",\n     fill = \"#8b7d7b\",\n     bold_target_only = TRUE,\n     target_col = Count\n   ) %>%\n  cols_align(\"left\") %>%\n  tab_header(title = \n               md(\"Covid Sequencing Pipeline Counts\")) %>%\n  style_table()\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"qyjscssgyh\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n#qyjscssgyh table {\n  font-family: Roboto, system-ui, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#qyjscssgyh thead, #qyjscssgyh tbody, #qyjscssgyh tfoot, #qyjscssgyh tr, #qyjscssgyh td, #qyjscssgyh th {\n  border-style: none;\n}\n\n#qyjscssgyh p {\n  margin: 0;\n  padding: 0;\n}\n\n#qyjscssgyh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#qyjscssgyh .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#qyjscssgyh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#qyjscssgyh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#qyjscssgyh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: left;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qyjscssgyh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qyjscssgyh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 3px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#qyjscssgyh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#qyjscssgyh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#qyjscssgyh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#qyjscssgyh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#qyjscssgyh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#qyjscssgyh .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#qyjscssgyh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#qyjscssgyh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#qyjscssgyh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#qyjscssgyh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#qyjscssgyh .gt_row {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 10px;\n  padding-right: 10px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#qyjscssgyh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n\n#qyjscssgyh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#qyjscssgyh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#qyjscssgyh .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#qyjscssgyh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qyjscssgyh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#qyjscssgyh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#qyjscssgyh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qyjscssgyh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qyjscssgyh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#qyjscssgyh .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qyjscssgyh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#qyjscssgyh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#qyjscssgyh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qyjscssgyh .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qyjscssgyh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#qyjscssgyh .gt_sourcenote {\n  font-size: 12px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#qyjscssgyh .gt_left {\n  text-align: left;\n}\n\n#qyjscssgyh .gt_center {\n  text-align: center;\n}\n\n#qyjscssgyh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#qyjscssgyh .gt_font_normal {\n  font-weight: normal;\n}\n\n#qyjscssgyh .gt_font_bold {\n  font-weight: bold;\n}\n\n#qyjscssgyh .gt_font_italic {\n  font-style: italic;\n}\n\n#qyjscssgyh .gt_super {\n  font-size: 65%;\n}\n\n#qyjscssgyh .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#qyjscssgyh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#qyjscssgyh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#qyjscssgyh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#qyjscssgyh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#qyjscssgyh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#qyjscssgyh .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"2\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style>Covid Sequencing Pipeline Counts</td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black;\" scope=\"col\" id=\"Location\">Location</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black;\" scope=\"col\" id=\"Count\">Count</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\">For Review</td>\n<td headers=\"Count\" class=\"gt_row gt_left\">220 (0.13%)</td></tr>\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\">Fuzzy Review</td>\n<td headers=\"Count\" class=\"gt_row gt_left\">569 (0.33%)</td></tr>\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\">Keep NA</td>\n<td headers=\"Count\" class=\"gt_row gt_left\">5,710 (3.32%)</td></tr>\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\" style=\"background-color: rgba(139,125,123,0.8);\">WDRS</td>\n<td headers=\"Count\" class=\"gt_row gt_left\" style=\"background-color: rgba(139,125,123,0.8); color: #000000; font-weight: bold;\">165,551 (96.22%)</td></tr>\n    <tr><td headers=\"Location\" class=\"gt_row gt_left\">Total</td>\n<td headers=\"Count\" class=\"gt_row gt_left\">172,050 (-)</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n\n```{.r .cell-code .hidden}\n#| label: tbl-counts\n#| tbl-cap: \"Count of sequences matching to WDRS cases\"\n# make a kable table - these are the only tables that can be output with a manuscript project\n# pipeline_counts %>% \n#   mutate(Count = paste0(Count,\" (\",freq,\")\")) %>% \n#   select(-freq) %>%\n#   knitr::kable()\n```\n:::\n\n\n\n\n\n\n# Counts by Lab\n\n\n\n\n\n\n::: {#tbl-labcount-status .cell tbl-cap='Count of sequences by lab and status'}\n\n```{.r .cell-code .hidden}\n#| label: tbl-labcount-status\n#| tbl-cap: \"Count of sequences by lab and status\"\n# ------ Summary of the Tables ------ #\n\nlab_counts <- wdrs_seq %>%\n  mutate(SEQUENCE_LAB = forcats::fct_explicit_na(SEQUENCE_LAB)) %>%\n  mutate(SEQUENCE_STATUS = forcats::fct_explicit_na(SEQUENCE_STATUS)) %>%\n  select(SEQUENCE_STATUS,SEQUENCE_LAB) %>%\n  count(SEQUENCE_STATUS,SEQUENCE_LAB) %>%\n  pivot_wider(names_from = SEQUENCE_STATUS,values_from = n) %>%\n  arrange(desc(Complete)) %>%\n  janitor::adorn_totals()\n\n# Get counts by lab by status gt\n(gt_lab_counts <- lab_counts %>%\n  gt() %>%\n  fmt(\n    columns = -SEQUENCE_LAB,\n    fns = function(x) ifelse(is.na(x), \"—\", x)\n  ) %>%\n  data_color(columns = Complete,\n             rows = SEQUENCE_LAB != \"Total\",\n             direction = \"column\", \n             palette = \"Purples\",\n             alpha = 1) %>%\n  style_table()\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"uhhqhkzbyp\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n#uhhqhkzbyp table {\n  font-family: Roboto, system-ui, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#uhhqhkzbyp thead, #uhhqhkzbyp tbody, #uhhqhkzbyp tfoot, #uhhqhkzbyp tr, #uhhqhkzbyp td, #uhhqhkzbyp th {\n  border-style: none;\n}\n\n#uhhqhkzbyp p {\n  margin: 0;\n  padding: 0;\n}\n\n#uhhqhkzbyp .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#uhhqhkzbyp .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#uhhqhkzbyp .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#uhhqhkzbyp .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#uhhqhkzbyp .gt_heading {\n  background-color: #FFFFFF;\n  text-align: left;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#uhhqhkzbyp .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#uhhqhkzbyp .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 3px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#uhhqhkzbyp .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#uhhqhkzbyp .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#uhhqhkzbyp .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#uhhqhkzbyp .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#uhhqhkzbyp .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#uhhqhkzbyp .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#uhhqhkzbyp .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#uhhqhkzbyp .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#uhhqhkzbyp .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#uhhqhkzbyp .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#uhhqhkzbyp .gt_row {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 10px;\n  padding-right: 10px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#uhhqhkzbyp .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n\n#uhhqhkzbyp .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#uhhqhkzbyp .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#uhhqhkzbyp .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#uhhqhkzbyp .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#uhhqhkzbyp .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#uhhqhkzbyp .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#uhhqhkzbyp .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#uhhqhkzbyp .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#uhhqhkzbyp .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#uhhqhkzbyp .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#uhhqhkzbyp .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#uhhqhkzbyp .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#uhhqhkzbyp .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#uhhqhkzbyp .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#uhhqhkzbyp .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#uhhqhkzbyp .gt_sourcenote {\n  font-size: 12px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#uhhqhkzbyp .gt_left {\n  text-align: left;\n}\n\n#uhhqhkzbyp .gt_center {\n  text-align: center;\n}\n\n#uhhqhkzbyp .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#uhhqhkzbyp .gt_font_normal {\n  font-weight: normal;\n}\n\n#uhhqhkzbyp .gt_font_bold {\n  font-weight: bold;\n}\n\n#uhhqhkzbyp .gt_font_italic {\n  font-style: italic;\n}\n\n#uhhqhkzbyp .gt_super {\n  font-size: 65%;\n}\n\n#uhhqhkzbyp .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#uhhqhkzbyp .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#uhhqhkzbyp .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#uhhqhkzbyp .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#uhhqhkzbyp .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#uhhqhkzbyp .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#uhhqhkzbyp .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black;\" scope=\"col\" id=\"SEQUENCE_LAB\">SEQUENCE_LAB</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black;\" scope=\"col\" id=\"Complete\">Complete</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black;\" scope=\"col\" id=\"Failed\">Failed</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black;\" scope=\"col\" id=\"Low Quality\">Low Quality</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black;\" scope=\"col\" id=\"Not Done\">Not Done</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black;\" scope=\"col\" id=\"(Missing)\">(Missing)</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">UW Virology</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #3F007D; color: #FFFFFF;\">67642</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">1507</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">648</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">2</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">PHL</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #ADACD2; color: #000000;\">29497</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">2497</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">850</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">1</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Labcorp</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #D2D3E7; color: #000000;\">19029</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">7530</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">37</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">1</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">NW Genomics</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #DDDCEC; color: #000000;\">15851</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">523</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">2158</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Quest</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #F6F4F9; color: #000000;\">3923</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">198</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Altius</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #F7F5FA; color: #000000;\">3523</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">140</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">33</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Fulgent Genetics</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #F8F6FA; color: #000000;\">2859</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">PHL/Bedford</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #F8F6FA; color: #000000;\">2857</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">SCAN/Bedford</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FAF9FC; color: #000000;\">996</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">1</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">7</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Aegis</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FBF9FC; color: #000000;\">934</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">4</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">5</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Curative Labs</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FBFAFC; color: #000000;\">623</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">26</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">KP WA Research Inst</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">281</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">USAFSAM</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">275</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">CDC</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">207</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">3</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">1</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Providence Swedish</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">173</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Helix</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">143</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">8</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Lauring Lab</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">118</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Atlas Genomics</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">68</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">21</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Boise VA</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">64</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">3</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">OHSU</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">61</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">SFS/Bedford</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">48</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">5</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">IDBOL</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">40</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Gravity Diagnostics</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">36</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">ASU</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">33</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">OSPHL</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">14</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">1</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">USAMRIID</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">9</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Infinity Biologix</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">7</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Grubaugh Lab</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">2</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Montana Public Health Lab</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">2</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Flow Diagnostics</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">1</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Grittman Medical Center</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">1</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Naval Health Research Center</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">1</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">NW GENOMICS</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">1</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Providence_Swedish</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">1</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">SCAB/Bedford</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">1</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">SFS/ Bedford</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">1</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">The Jackson Laboratory</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">1</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">—</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">(Missing)</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\" style=\"background-color: #FCFBFD; color: #000000;\">1</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">1</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">—</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">—</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">16</td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_center\">Total</td>\n<td headers=\"Complete\" class=\"gt_row gt_right\">149324</td>\n<td headers=\"Failed\" class=\"gt_row gt_right\">12218</td>\n<td headers=\"Low Quality\" class=\"gt_row gt_right\">3989</td>\n<td headers=\"Not Done\" class=\"gt_row gt_right\">1</td>\n<td headers=\"(Missing)\" class=\"gt_row gt_right\">19</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n\n```{.r .cell-code .hidden}\n#| label: tbl-labcount-status\n#| tbl-cap: \"Count of sequences by lab and status\"\n# Get counts by status kable\n# options(knitr.kable.NA = '-')\n# lab_counts %>%\n#   knitr::kable()\n```\n:::\n\n\n\n\n\n\n# Counts by lab\n\nThese are counts before we switched over to the 2.0 pipeline\n\n\n\n\n\n\n::: {#tbl-labcount .cell tbl-cap='Count of sequences by lab and status during the sequencing pipeline 1.0 phase'}\n\n```{.r .cell-code .hidden}\n#| label: tbl-labcount\n#| tbl-cap: \"Count of sequences by lab and status during the sequencing pipeline 1.0 phase\"\n(count_by_lab <- wdrs_seq %>%\n  count(SEQUENCE_LAB) %>%\n  arrange(desc(n)) %>%\n  summarize(\n    n,\n    x_scaled = n / nrow(wdrs_seq) * 100,\n    .by = SEQUENCE_LAB\n  ) %>%\n  gt() %>%\n  gt_plt_bar_pct(\n    column = x_scaled,\n    scaled = TRUE,\n    labels = TRUE,\n    font_size = \"12px\",\n    fill = \"#8b7d7b\"\n  ) %>%\n  tab_header(title = md(\"Number of Sequences by Lab\"),\n             subtitle = md(\"Before 2023-06-01 switch to 2.0 pipeline\")) %>%\n  fmt_number(\n    columns = n,\n    decimals = 0,\n    use_seps = T\n  ) %>%\n  cols_label(\n    SEQUENCE_LAB = 'Sequencing Lab',\n    n = 'Count',\n    x_scaled = 'Percent of Total Sequences'\n  ) %>%\n  style_table()\n)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"zsejxzzpcd\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>@import url(\"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap\");\n#zsejxzzpcd table {\n  font-family: Roboto, system-ui, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#zsejxzzpcd thead, #zsejxzzpcd tbody, #zsejxzzpcd tfoot, #zsejxzzpcd tr, #zsejxzzpcd td, #zsejxzzpcd th {\n  border-style: none;\n}\n\n#zsejxzzpcd p {\n  margin: 0;\n  padding: 0;\n}\n\n#zsejxzzpcd .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #000000;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #000000;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#zsejxzzpcd .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#zsejxzzpcd .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#zsejxzzpcd .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#zsejxzzpcd .gt_heading {\n  background-color: #FFFFFF;\n  text-align: left;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zsejxzzpcd .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zsejxzzpcd .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 3px;\n  border-top-color: #000000;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#zsejxzzpcd .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#zsejxzzpcd .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#zsejxzzpcd .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#zsejxzzpcd .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#zsejxzzpcd .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#zsejxzzpcd .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#zsejxzzpcd .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#zsejxzzpcd .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#zsejxzzpcd .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#zsejxzzpcd .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#zsejxzzpcd .gt_row {\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 10px;\n  padding-right: 10px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#zsejxzzpcd .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 80%;\n  font-weight: bolder;\n  text-transform: uppercase;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n\n#zsejxzzpcd .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#zsejxzzpcd .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#zsejxzzpcd .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#zsejxzzpcd .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zsejxzzpcd .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#zsejxzzpcd .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#zsejxzzpcd .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zsejxzzpcd .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zsejxzzpcd .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#zsejxzzpcd .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zsejxzzpcd .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#zsejxzzpcd .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#zsejxzzpcd .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zsejxzzpcd .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zsejxzzpcd .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#zsejxzzpcd .gt_sourcenote {\n  font-size: 12px;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#zsejxzzpcd .gt_left {\n  text-align: left;\n}\n\n#zsejxzzpcd .gt_center {\n  text-align: center;\n}\n\n#zsejxzzpcd .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#zsejxzzpcd .gt_font_normal {\n  font-weight: normal;\n}\n\n#zsejxzzpcd .gt_font_bold {\n  font-weight: bold;\n}\n\n#zsejxzzpcd .gt_font_italic {\n  font-style: italic;\n}\n\n#zsejxzzpcd .gt_super {\n  font-size: 65%;\n}\n\n#zsejxzzpcd .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#zsejxzzpcd .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#zsejxzzpcd .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#zsejxzzpcd .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#zsejxzzpcd .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#zsejxzzpcd .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#zsejxzzpcd .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" style=\"table-layout: fixed;\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <colgroup>\n    <col/>\n    <col/>\n    <col style=\"width:100px;\"/>\n  </colgroup>\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"3\" class=\"gt_heading gt_title gt_font_normal\" style>Number of Sequences by Lab</td>\n    </tr>\n    <tr class=\"gt_heading\">\n      <td colspan=\"3\" class=\"gt_heading gt_subtitle gt_font_normal gt_bottom_border\" style>Before 2023-06-01 switch to 2.0 pipeline</td>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black;\" scope=\"col\" id=\"Sequencing Lab\">Sequencing Lab</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black;\" scope=\"col\" id=\"Count\">Count</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" style=\"border-bottom-width: 3px; border-bottom-style: solid; border-bottom-color: black;\" scope=\"col\" id=\"Percent of Total Sequences\">Percent of Total Sequences</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">UW Virology</td>\n<td headers=\"n\" class=\"gt_row gt_right\">69,799</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:42.1616299508913%;height:16px;display:flex;align-items:center;justify-content:flex-start;position:relative;'><span style='color:#000000;position:absolute;left:0px;margin-left:5px;font-weight:bold;font-size:12px;'>42.2%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">PHL</td>\n<td headers=\"n\" class=\"gt_row gt_right\">32,845</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:19.8398076725601%;height:16px;display:flex;align-items:center;justify-content:flex-start;position:relative;'><span style='color:#000000;position:absolute;left:0px;margin-left:5px;font-weight:bold;font-size:12px;'>19.8%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Labcorp</td>\n<td headers=\"n\" class=\"gt_row gt_right\">26,597</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:16.0657440909448%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:16.0657440909448px;font-weight:bold;font-size:12px;'>16.1%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">NW Genomics</td>\n<td headers=\"n\" class=\"gt_row gt_right\">18,532</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:11.1941335298488%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:11.1941335298488px;font-weight:bold;font-size:12px;'>11.2%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Quest</td>\n<td headers=\"n\" class=\"gt_row gt_right\">4,121</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:2.48926312737465%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:2.48926312737465px;font-weight:bold;font-size:12px;'>2.5%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Altius</td>\n<td headers=\"n\" class=\"gt_row gt_right\">3,696</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:2.2325446539133%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:2.2325446539133px;font-weight:bold;font-size:12px;'>2.2%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Fulgent Genetics</td>\n<td headers=\"n\" class=\"gt_row gt_right\">2,859</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:1.72696027206118%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:1.72696027206118px;font-weight:bold;font-size:12px;'>1.7%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">PHL/Bedford</td>\n<td headers=\"n\" class=\"gt_row gt_right\">2,857</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:1.72575218512724%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:1.72575218512724px;font-weight:bold;font-size:12px;'>1.7%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">SCAN/Bedford</td>\n<td headers=\"n\" class=\"gt_row gt_right\">1,004</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.606459640835755%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.606459640835755px;font-weight:bold;font-size:12px;'>0.6%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Aegis</td>\n<td headers=\"n\" class=\"gt_row gt_right\">943</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.569612989350714%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.569612989350714px;font-weight:bold;font-size:12px;'>0.6%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Curative Labs</td>\n<td headers=\"n\" class=\"gt_row gt_right\">649</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.392024210062156%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.392024210062156px;font-weight:bold;font-size:12px;'>0.4%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">KP WA Research Inst</td>\n<td headers=\"n\" class=\"gt_row gt_right\">281</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.169736214217975%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.169736214217975px;font-weight:bold;font-size:12px;'>0.2%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">USAFSAM</td>\n<td headers=\"n\" class=\"gt_row gt_right\">275</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.166111953416168%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.166111953416168px;font-weight:bold;font-size:12px;'>0.2%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">CDC</td>\n<td headers=\"n\" class=\"gt_row gt_right\">211</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.127453171530223%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.127453171530223px;font-weight:bold;font-size:12px;'>0.1%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Providence Swedish</td>\n<td headers=\"n\" class=\"gt_row gt_right\">173</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.104499519785444%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.104499519785444px;font-weight:bold;font-size:12px;'>0.1%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Helix</td>\n<td headers=\"n\" class=\"gt_row gt_right\">151</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.0912105635121503%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.0912105635121503px;font-weight:bold;font-size:12px;'>0.1%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Lauring Lab</td>\n<td headers=\"n\" class=\"gt_row gt_right\">118</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.0712771291022102%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.0712771291022102px;font-weight:bold;font-size:12px;'>0.1%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Atlas Genomics</td>\n<td headers=\"n\" class=\"gt_row gt_right\">89</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.0537598685601416%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.0537598685601416px;font-weight:bold;font-size:12px;'>0.1%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Boise VA</td>\n<td headers=\"n\" class=\"gt_row gt_right\">67</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.0404709122868482%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.0404709122868482px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">OHSU</td>\n<td headers=\"n\" class=\"gt_row gt_right\">61</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.0368466514850409%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.0368466514850409px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">SFS/Bedford</td>\n<td headers=\"n\" class=\"gt_row gt_right\">53</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.0320143037492978%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.0320143037492978px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">IDBOL</td>\n<td headers=\"n\" class=\"gt_row gt_right\">40</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.0241617386787153%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.0241617386787153px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Gravity Diagnostics</td>\n<td headers=\"n\" class=\"gt_row gt_right\">36</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.0217455648108438%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.0217455648108438px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">ASU</td>\n<td headers=\"n\" class=\"gt_row gt_right\">33</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.0199334344099401%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.0199334344099401px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">NA</td>\n<td headers=\"n\" class=\"gt_row gt_right\">18</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.0108727824054219%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.0108727824054219px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">OSPHL</td>\n<td headers=\"n\" class=\"gt_row gt_right\">15</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.00906065200451824%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.00906065200451824px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">USAMRIID</td>\n<td headers=\"n\" class=\"gt_row gt_right\">9</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.00543639120271095%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.00543639120271095px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Infinity Biologix</td>\n<td headers=\"n\" class=\"gt_row gt_right\">7</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.00422830426877518%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.00422830426877518px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Grubaugh Lab</td>\n<td headers=\"n\" class=\"gt_row gt_right\">2</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.00120808693393577%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.00120808693393577px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Montana Public Health Lab</td>\n<td headers=\"n\" class=\"gt_row gt_right\">2</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.00120808693393577%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.00120808693393577px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Flow Diagnostics</td>\n<td headers=\"n\" class=\"gt_row gt_right\">1</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.000604043466967883%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.000604043466967883px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Grittman Medical Center</td>\n<td headers=\"n\" class=\"gt_row gt_right\">1</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.000604043466967883%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.000604043466967883px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">NW GENOMICS</td>\n<td headers=\"n\" class=\"gt_row gt_right\">1</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.000604043466967883%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.000604043466967883px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Naval Health Research Center</td>\n<td headers=\"n\" class=\"gt_row gt_right\">1</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.000604043466967883%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.000604043466967883px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">Providence_Swedish</td>\n<td headers=\"n\" class=\"gt_row gt_right\">1</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.000604043466967883%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.000604043466967883px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">SCAB/Bedford</td>\n<td headers=\"n\" class=\"gt_row gt_right\">1</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.000604043466967883%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.000604043466967883px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">SFS/ Bedford</td>\n<td headers=\"n\" class=\"gt_row gt_right\">1</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.000604043466967883%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.000604043466967883px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n    <tr><td headers=\"SEQUENCE_LAB\" class=\"gt_row gt_left\">The Jackson Laboratory</td>\n<td headers=\"n\" class=\"gt_row gt_right\">1</td>\n<td headers=\"x_scaled\" class=\"gt_row gt_left\"><div style='flex-grow:1;margin-left:8px;background:#e1e1e1;'><div style='background:#8b7d7b;width:0.000604043466967883%;height:16px;display:flex;align-items:center;justify-content:center;color:#000000;font-weight:bold;font-size:12px;position:relative;'><span style='color:#000000;position:absolute;left:0%;margin-left:0.000604043466967883px;font-weight:bold;font-size:12px;'>0%</span></div></div></td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n\n\n\n# Create stacked bar plots\n \ncreated by Philip Crain\n\n## Proportion Plot\n\nmake a plot based on the proportion stratified by mode\n\nnote: a few labs switched from Template to ELR and they were not always hard cut offs. Need to combine data with the entire table in order to identify which records are template and which are coming from ELR.\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nWDRS_Entire <- dbGetQuery(connection, \"\n  SELECT DISTINCT CASE_ID,\n    FILLER__ORDER__NUM,\n    SPECIMEN__COLLECTION__DTTM,\n    SUBMITTER,\n    PATIENT__CENTRIC__OBSERVATION,\n    PATIENT__CENTRIC__OBSERVATION__VALUE,\n    TEST__RESULT,\n    TEST__RESULT__NOTE,\n    TEST__REQUEST__NOTE\n  FROM [dbo].[DD_ELR_DD_ENTIRE]\n  WHERE WDRS__TEST__PERFORMED = 'SARS CoV-2 Sequencing'\n\")\n\nwdrs_seq_prep <- wdrs_seq %>%\n  filter(SEQUENCE_ROSTER_PREPARE_DATE < '2023-09-11' | is.na(SEQUENCE_ROSTER_PREPARE_DATE)) %>%\n  mutate(\n    sc_year = lubridate::year(CASE_CREATE_DATE),\n    in_elr = if_else(CASE_ID %in% WDRS_Entire$CASE_ID,1,0),\n    submission_route = factor(case_when(\n      # str_detect(toupper(SEQUENCE_LAB),\"AEGIS|HELIX|QUEST|LABCORP\") ~ \"ELR\",\n      # some labs have submitted template and ELR, so need a better way of finding them\n      # use the ELR table to determine which are ELR\n      in_elr == 1 ~ \"ELR\",\n      in_elr == 0 & str_detect(toupper(SEQUENCE_LAB),\"PHL\") ~ \"PHL\",\n      TRUE ~ \"SFT\"\n    )\n  )\n  ) \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nlibrary(ggplot2)\n(prop_plot <- wdrs_seq_prep %>%\n  ggplot2::ggplot(aes(x=sc_year,fill=submission_route)) +\n  geom_bar(position=\"fill\") +\n  # scale_x_date() +\n  scale_y_continuous(labels = ~.x*100) +\n  scale_fill_manual(values=c(\"mistyrose2\", \"mistyrose3\", \"mistyrose4\")) +\n  labs(title='Proportion by Year',\n       fill='Mode') +\n  xlab('Specimen Collection Date') +\n  ylab('Submission Count (%)') + \n  theme(\n    plot.title = element_text(hjust = 0.5, size=rel(1)),\n    axis.ticks.x = element_line(color = NA),\n    panel.background = element_rect(fill = 'transparent'),\n    plot.background = element_rect(fill = 'transparent', color = NA),\n    panel.grid.major.y = element_line(color = '#78c2ad'),\n    panel.grid.major.x = element_line(color = '#78c2ad'),\n    panel.grid.minor.y = element_line(color = '#d6ede7'),\n    panel.grid.minor.x = element_line(color = '#d6ede7'),\n    legend.background = element_rect(fill = '#d6ede7'),\n    #legend.key = element_rect(fill = 'transparent'),\n    # legend.position = \"none\" #remove legend to save space when next to the yearly version png\n  ) \n)\n```\n\n::: {.cell-output-display}\n![](wdrs_summary_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n## Count Plot\n\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n### Create yearly count stacked bar: --------------------------------\n(count_plot <- wdrs_seq_prep %>%\n  ggplot(aes(x=sc_year, fill=submission_route)) +\n  geom_bar(position='stack') +\n  # scale_x_date() +\n  scale_y_continuous(labels = scales::label_comma()) +\n  scale_fill_manual(values=c(\"mistyrose2\", \"mistyrose3\", \"mistyrose4\")) +\n  labs(title='Count by Year',\n       fill='Mode') +\n  xlab('Specimen Collection Date') +\n  ylab('Submission Count (n)') + \n  theme(\n    plot.title = element_text(hjust = 0.5, size=rel(1)),\n    axis.ticks.x = element_line(color = NA),\n    panel.background = element_rect(fill = 'transparent'),\n    plot.background = element_rect(fill = 'transparent', color = NA),\n    panel.grid.major.y = element_line(color = '#78c2ad'),\n    panel.grid.major.x = element_line(color = '#78c2ad'),\n    panel.grid.minor.y = element_line(color = '#d6ede7'),\n    panel.grid.minor.x = element_line(color = '#d6ede7'),\n    legend.background = element_rect(fill = '#d6ede7'),\n    # legend.key = element_rect(fill = 'transparent'),\n    #legend.position = \"none\" #remove legend to save space when next to the yearly version png\n  ) \n)\n```\n\n::: {.cell-output-display}\n![](wdrs_summary_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\n\n\n\n\n\n# Combine the plots\n\nUse patchwork to combine the plots \n\n\n\n\n\n\n::: {#cell-fig-countprop .cell}\n\n```{.r .cell-code .hidden}\n#| label: fig-countprop\n#| fig-cap: \"Count and proportion of sequencing metadata submissions by mode\"\n\nlibrary(patchwork)\n\n(prop_plot + count_plot) + \n  plot_layout(guides=\"collect\", axes = \"collect_x\") +\n  plot_annotation(\n    title = 'Sars CoV-2 Sequencing Metadata Submissions by Mode',\n    subtitle = 'Proportion and Counts',\n    caption = 'Data collected from Feb. 2021 - Sep. 2023'\n  )\n```\n\n::: {.cell-output-display}\n![Count and proportion of sequencing metadata submissions by mode](wdrs_summary_files/figure-html/fig-countprop-1.png){#fig-countprop width=672}\n:::\n:::\n",
    "supporting": [
      "wdrs_summary_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}